<!DOCTYPE html>
<html>
<body>
<script src="StringView.js"></script>
<script src="Buckets.js"></script>
<script src="Chef.js"></script>
<script src="Cereal.js"></script>
<script src="Data.js"></script>

<script>
var game = new Game('Zach','Kittens',new Array());
var chef = new Chef();
chef.putString('Yo Name Fool');
chef.putString('Yo Secret Fool');
chef.trim();
var conn = new WebSocket('ws://76.121.129.76:4444');
conn.binaryType = "arraybuffer";
conn.onopen = function(){
   conn.send(chef.ab);
   console.log('Connection open!');
}

conn.onmessage = function (event) {
    game.getGameInfo(new Cereal(new DataView(event.data)));
    game.units.forEach(function(u) {
        console.log(u.unitTeam + ":" + u.unitID + " x:" + u.newX + " y:" + u.newY);
    });
}
</script>
</body>
</html>